<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://blog.bookbook.in').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="关系、健康、自由，是我的追求。">
<meta property="og:type" content="website">
<meta property="og:title" content="Book Book, Come in~">
<meta property="og:url" content="http://blog.bookbook.in/page/2/index.html">
<meta property="og:site_name" content="Book Book, Come in~">
<meta property="og:description" content="关系、健康、自由，是我的追求。">
<meta property="article:author" content="知明所以">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://blog.bookbook.in/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Book Book, Come in~</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Book Book, Come in~</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">知明所以的博客</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/08/23/%E6%8A%80%E6%9C%AF/react-%E6%B7%B1%E5%85%A5-React-%E4%BB%85%E4%BB%85%E6%98%AF%E4%B8%80%E4%B8%AA-view-%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/23/%E6%8A%80%E6%9C%AF/react-%E6%B7%B1%E5%85%A5-React-%E4%BB%85%E4%BB%85%E6%98%AF%E4%B8%80%E4%B8%AA-view-%E6%A1%86%E6%9E%B6/" class="post-title-link" itemprop="url">[react]深入 - React 仅仅是一个 view 框架</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-08-23 10:18:14" itemprop="dateCreated datePublished" datetime="2017-08-23T10:18:14+08:00">2017-08-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>React 框架的终极目的是：高效的用 js 生成HTML</strong>。</p>
<p>为了实现这个目的，react 维护了一个 virtual DOM ，然后再根据 virtual DOM 生成真正的 DOM，来达到「高效」的目的。说到高效，其实就是回答这两个问题：</p>
<ol>
<li>When do I re-render? Answer: When I observe that the data is dirty.</li>
<li>How do I re-render efficiently? Answer: Using a virtual DOM to generate a real DOM patch.</li>
</ol>
<p>客户端常见的判断 re-render 时机的方法有下面两种：</p>
<ol>
<li>diff。这种方法是：每个渲染周期（俗称每一帧），都会进行 render，然后 render 出来的结构，跟上一次 render 的结果进行 diff；找出不同的部分，再对 DOM 中对应的部分进行更新。</li>
<li>数据变动检测。检测会导致界面变动的数据源，当数据有变化时，进行 re-render。</li>
</ol>
<p>两种方式都有自己的优势和劣势，更多的时候，视图框架会把两者结合起来用。<br>react 主要用的第二种方法，因为它效率更高。因为本质上讲，方法一是 diff virtual DOM，方法二是 diff props and state。一般情况下，props &amp; state 的数据量会小一些。当然，你也可以写一个 Component，props 结构非常复杂，但是只用了其中一个字段用来渲染，渲染的节点数也很少。这种设计属于不好的设计，应该尽量避免。<strong>好的 Component 应该是 props 尽量扁平和简洁，去掉根渲染无关的字段。</strong> 这样才能充分发挥 react 的渲染性能。</p>
<p><a href="https://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode" target="_blank" rel="noopener" title="virtual-dom module">更多关于 virtual DOM </a></p>
<p>React 为了实现如上的构想，为我们提供了很多概念和代码，下面逐一讲解：</p>
<h3 id="jsx-标记语言"><a href="#jsx-标记语言" class="headerlink" title="jsx 标记语言"></a>jsx 标记语言</h3><p>React 使用 jsx 标记语言。它跟 html 语言非常相似，使用起来非常方便。如果没有它，我们只能通过 <code>Rect.createElement( &#39;canvas&#39;, {…props} )</code> 的方式来生成一个 <code>cavans</code> 的描述，然后，react 会把这个描述「渲染」成真正的 Html <code>&lt;canvas ...props /&gt;</code>。甚至，如果没有 react 框架，我们只能用 <code>let element = document.createElement(&#39;canvas&#39;, [, options])</code> 来创建一个 Html 元素。也许，你会觉得这三种方式代码量差不多。但是，当有多层嵌套的视图结构时，jsx 标记语言的优势就显现出来了。你可以试着把以下 jsx 语言「翻译」为后面两种写法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">    <span class="keyword">const</span> taskCount = <span class="keyword">this</span>.props.taskCount;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"step-content create-data-content"</span>&gt;</span></span></span><br><span class="line">        &lt;div className="info-bar" &gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;div className="ui-font-secondary4"&gt;&#123;'总共统计'&#125;&lt;/div&gt;</span><br><span class="line">                &lt;div className="ui-font-h2"&gt;&#123;`$&#123;taskCount&#125;条任务`&#125;&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &#123;this.renderTabBar()&#125;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;this.renderContent()&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="组件抽象-Component"><a href="#组件抽象-Component" class="headerlink" title="组件抽象 Component"></a>组件抽象 Component</h3><p>React 提供了一个类 Component 作为所有组件的基类。它的意义是：</p>
<ol>
<li>它为我们创造了一个「组件」的概念，代表可重用的可视元素的最小单位。我们按照这个概念去开发，能很容易写出高复用性的视图代码。</li>
<li>它提供了基本的生命周期回调函数，满足我们多样的需求。比如我们常用的: <code>componentDidMount</code>, <code>componentWillReceiveProps</code>, <code>componentWillUnmount</code>。</li>
<li>提供了 props 接口，为父容器和子容器之间信息交流提供标准通道。</li>
<li>提供 state，作为容器内部状态管理的落脚地。</li>
</ol>
<h3 id="可视组组件的描述"><a href="#可视组组件的描述" class="headerlink" title="可视组组件的描述"></a>可视组组件的描述</h3><p>每个组件都有一个 render 方法。</p>
<h3 id="高效的翻译器：描述-gt"><a href="#高效的翻译器：描述-gt" class="headerlink" title="高效的翻译器：描述 =&gt;"></a>高效的翻译器：描述 =&gt;</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/08/23/%E6%8A%80%E6%9C%AF/react-React%E6%B7%B1%E5%85%A5-%E4%B8%80%E7%AD%89%E5%85%AC%E6%B0%91-props-onChange/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/23/%E6%8A%80%E6%9C%AF/react-React%E6%B7%B1%E5%85%A5-%E4%B8%80%E7%AD%89%E5%85%AC%E6%B0%91-props-onChange/" class="post-title-link" itemprop="url">[react]深入 - 一等公民 props & onChange</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-08-23 10:05:07" itemprop="dateCreated datePublished" datetime="2017-08-23T10:05:07+08:00">2017-08-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>这篇博客的前身是 <a href="/2017/08/08/react-React-%E6%96%B0%E6%89%8B%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%8410%E4%BB%B6%E4%BA%8B/" title="React 新手必须知道的10件事">《React 新手必须知道的10件事》</a>，结果写着写着，「每件事」都远远超过了预计的300～500字的限制。给读者的阅读造成了极大的困扰。故将<a href="/2017/08/08/react-React-%E6%96%B0%E6%89%8B%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%8410%E4%BB%B6%E4%BA%8B/" title="React 新手必须知道的10件事">《10件事》</a>拆开成若干篇，每一篇只讲一个主题。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>React 最推荐的数据交互方式是：props &amp; onChnage。在这种交互方式里：对于一个可视组件 <code>ComponentA</code>，用 <code>props</code> 来向它发送信息，而用 <code>onChange</code> 回调函数来接收 <code>ComponentA</code> 发送的·信息。在程序世界里，我们更喜欢把上述「交互方式」称为「接口」，虽然这个「接口」不是我们在面向对象语言里的 <code>interface</code>，但是跟 <code>interface</code> 有着类似的功能。 我们暂且把这个「接口规范」取名为 「props &amp; onChange 接口规范」。</p>
<p>React 还是给了另外一种方法来进行数据交互：ref &amp; method。在这种交互方式里，我们通过 <code>&lt;ComponentA ref={ r =&gt; this.refOfComponentA = r }</code> 的方式来获得 <code>ComponentA</code> 对象的引用，然后用 <code>this.refOfComponentA.someMethod()</code> 来向它发送信息。我们把这交互方式称为 「ref &amp; method 接口规范」。在典型的客户端开发环境里（iOS、Android、Windows PC等），这种方式更为常见，并且对函数调用更加友好，更「像」程序语言。<strong>但是，对于 React 新手，我们强烈不建议使用这种借口规范</strong>，除非你对 React 整个机制非常了解，仍然想用它。因为它<strong>严重破坏了 React 组件的一致性</strong>。原因有：</p>
<ol>
<li>React 的可视组件的层级结一般是在 jsx 文件中以一种类似于 html 的语言来表示的，这种表示方式既方便又直观，表达力很强。在这种特殊的 jsx 语言里，「props &amp; onChange接口规范」很容易且自然的被遵守。而如果用 「ref &amp; method接口规范」，你不得不跳转到很多行以外，才能明白信息的传递过程，既不利于代码编写，也不利于阅读。</li>
<li>我们避免不了用 props 方式来进行数据传递。我们说「避免不了」，因为很多原因，在此仅列举两个：一、jsx 文件中，Html 内置元素只能通过 props 来传递参数；二、很多第三方库（如果我们在开发一个大型项目，必定有很多「轮子」不用自己造），也必须通过 props 来传递参数。所以，props 不可避免；而同时存在两种接口规范，是没有意义且容易出错的。</li>
<li>第三个原因可能比较「经验化」。如果现在不能理解和认同，你听听就好；反正，当你使用过的优秀开源框架足够多，你肯定会明白的：<strong>当你新接触一个框架时，暂时抛弃自己以往的习惯，转而遵守它的语言规范，是最好的选择</strong>。原因很简单：<ol>
<li>一个框架从出生到出名，一定有自己与众不同的框架思想，才能从其他同类型框架中脱引而出。时间的验证，是有意义的。</li>
<li>过于轻率的使用其他的编程思想，会多处碰壁；也不利于你真正了解此框架的优势和瓶颈。</li>
</ol>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/08/09/%E6%8A%80%E6%9C%AF/react-%E7%BB%86%E6%95%B0-React-%E7%9A%84%E5%8E%9F%E7%BD%AA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/09/%E6%8A%80%E6%9C%AF/react-%E7%BB%86%E6%95%B0-React-%E7%9A%84%E5%8E%9F%E7%BD%AA/" class="post-title-link" itemprop="url">[react] 细数 React 的原罪</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-08-09 09:27:36" itemprop="dateCreated datePublished" datetime="2017-08-09T09:27:36+08:00">2017-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-17 16:15:44" itemprop="dateModified" datetime="2020-01-17T16:15:44+08:00">2020-01-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><strong>Props &amp; onChange 的原罪</strong> 。「props &amp; onChange 接口规范」它不是一个典型的「程序接口规范」。<ol>
<li>当你拿到一个可视组件的 ref，却没有类似 <code>setProps()</code> 这样的方法来改变其 <code>props</code>，你只能在 render() 方法中，通过 jsx 语言来设置其 <code>props</code>。这意味着父元素必须保存并维护这个 props 对应的值，而更多时候，父容器只是想<strong>一次性</strong>的设置一个值，然后就走，让以后的事情交给子元素自己去维护。当然，你也可以通过 ref 来获取子元素的应用，然后调用其成员方法来达到<strong>一次性</strong>改变属性的目的，但又会带来其他问题，请看下一条。</li>
<li>在大多数客户端框架里，有一个视图类 <code>ComponentA</code>，<code>compA = new ComponentA()</code>， <code>compoA</code> 即是对这个可视组件的表示。而，在 React 世界里，<code>compA.render()</code> 返回的结果（结果的结构参见下图），才是这个可视组件的表示。这种不同带来的后果是，我们很难对已经渲染过的节点进行后续更改。当然 React 提供了 <code>React.cloneElement(element,props)</code> 接口来改变，但是这个接口怎么看都不像一种<strong>正派</strong>的接口，而像是。。。<code>hack</code>。因为这种改变，其他人时候很难看懂的。换句话说，我们不是通过一个明确定义的接口，而是“随性的”，“肆无忌惮”的修改了内存。<img src="/idx/react_render_result_object.png" alt="函数返回结果"></li>
<li>React 用 <code>props &amp; PropType</code> 的方式重新定义了一种接口规范，定义了一个组件的输入和输出。输入 <code>props</code> 一般是 <code>string</code>, <code>boolean</code>, <code>number</code>, <code>object</code>；输出参数一般是 <code>function</code>。<code>PropType</code> 定义了每个 <code>props</code> 的取值范围、 是否必填等信息。这整个一套机制是跟面向对象语言里的 <code>interface</code> 的功能是高度重合的，也就是说，React 重新发明了轮子。并且这个轮子有自己很大的局限性：他不是能自表达的。什么意思呢？在典型的面向对象语言里（以 java 为例）, 假设有一下代码：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inteface IRunable&#123;</span><br><span class="line">    run();</span><br><span class="line">    getSpeed();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">function <span class="title">clone</span><span class="params">(IRunable)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
这段代码里的 <code>clone</code> 函数的第一个参数必须满足 <code>IRunable</code> 接口，否则编译器会抛出编译错误。但是，切换到 <code>props</code> 接口规范，假设我们定义了一个对象的接口: <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SomePropType = PropType.shape(&#123;</span><br><span class="line">    name: PropType.string.isRequired,</span><br><span class="line">    uuid: PropType.stirng.isRequired,</span><br><span class="line">    onChange: PropType.func.isRequired,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">element</span>)</span>&#123;&#125;. <span class="comment">// element 是一个必须满足 SomePropType 接口的元素。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> AnotherPropType = PropType.shape(&#123;</span><br><span class="line">    elment: ???how??? <span class="comment">// 一个必须满足 SomePropType 接口的元素。</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
你没办法定义一个 <code>clone</code> 方法，限制它的第一个参数必须是满足某个 <code>PropType</code> 定义的组件对象；甚至，你也没办法定义一个接口 <code>AnotherPropType</code>，使得它的某个属性满足 <code>SomePropType</code>。</li>
</ol>
</li>
<li><strong>Controller 和 View 融为一谈</strong>。React 本身是一个 View 层的工具，他最擅长的是把数据 <code>render()</code> 成 dom 元素。在 Android SDK 里，有一个东西跟它的功能很相似： layout xml。但是在 React 的设计理念里，没有对 view 和 controller 的明确的概念的区分。我们可以在 Component 里做 view 层该做的事情（根据给定数据显示界面），也可以做 controller 应该做的事情（处理交互动作、处理网络请求）。以至于有很多博客来“教” React 的开发者来明确分这两个概念，参考博客<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank" rel="noopener">Presentational and Container Components</a>。当然你可以说，这是开发者自身素质和抽象能力的体现，但是作为一个使用量如此巨大的框架，官方居然没有为用户构造和区分这个概念，还要用户自己去<strong>发现和总结</strong>，不得不说，是一大黑点。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/08/08/%E6%8A%80%E6%9C%AF/react-React-%E6%96%B0%E6%89%8B%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%8410%E4%BB%B6%E4%BA%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/08/%E6%8A%80%E6%9C%AF/react-React-%E6%96%B0%E6%89%8B%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%8410%E4%BB%B6%E4%BA%8B/" class="post-title-link" itemprop="url">[react] React 新手必须知道的 N 件事</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-08-08 19:58:24" itemprop="dateCreated datePublished" datetime="2017-08-08T19:58:24+08:00">2017-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>尽量用 props &amp; onChange，不要用 ref 获取引用然后调用方法。详情参考博客：<a href="/2017/08/23/react-React%E6%B7%B1%E5%85%A5-%E4%B8%80%E7%AD%89%E5%85%AC%E6%B0%91-props-onChange/" title="一等公民 props &amp; onChange">一等公民 props &amp; onChange</a></li>
<li>React 只是一个视图框架，请尽量在 Component 里只做他擅长的事情。尽量写无状态的 Component。视图以外的事情，比如控制层、数据层、网络层，需要借助其他框架来完成。详情参考博客：<a href="/2017/08/23/react-%E6%B7%B1%E5%85%A5-React-%E4%BB%85%E4%BB%85%E6%98%AF%E4%B8%80%E4%B8%AA-view-%E6%A1%86%E6%9E%B6/">React 仅仅是一个 view 框架</a></li>
<li>避免重复造轮子。react 有丰富的第三方 Component &amp; Utils &amp; everything。写任何组件前请先看看这里：<a href="https://github.com/brillout/awesome-react-components" target="_blank" rel="noopener">awesome-react-components</a></li>
<li>Less state，more PureComponent. 深刻理解和区分 Presentational Component 和 Container Component。前者决定组件如何显示，更关心对已知数据的展示，大量操作 dom，很少有 state；后者更关心数据的获取和更新，关心交互操作，很少直接操作 dom，可能包括很多 state。详解请参考：<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank" rel="noopener">Presentational and Container Components</a></li>
<li>理解 React 的单向数据流，了解他的优势和局限。详情：<a href="https://segmentfault.com/a/1190000006831820" target="_blank" rel="noopener">React 组件数据流 &amp;&amp; 组件间沟通</a></li>
<li>如果是中大型项目，请添加静态类型检查。TypeScript 或者其他类似的解决方案。因为 js 太自由了，很容易对一个对象增加和删除一个字段。如果，恰好其他人需要看这段代码，可能需要追溯好几条街，阅读7、8个代码文件，才知道某个对象的一个对象是从哪里来，结构如何。在多人配合的项目中，这种「自由」带来的便利，远远抵不上代码可读性降低带来的阻碍。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/07/28/%E6%8A%80%E6%9C%AF/react-%E5%A6%82%E4%BD%95%E4%B8%BAAntDesign%E5%BA%93%E5%AE%9A%E5%88%B6%E4%B8%BB%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/07/28/%E6%8A%80%E6%9C%AF/react-%E5%A6%82%E4%BD%95%E4%B8%BAAntDesign%E5%BA%93%E5%AE%9A%E5%88%B6%E4%B8%BB%E9%A2%98/" class="post-title-link" itemprop="url">[react]如何为AntDesign库定制主题</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-07-28 12:25:05" itemprop="dateCreated datePublished" datetime="2017-07-28T12:25:05+08:00">2017-07-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="https://medium.com/@GeoffMiller/how-to-customize-ant-design-with-react-webpack-the-missing-guide-c6430f2db10f" target="_blank" rel="noopener">https://medium.com/@GeoffMiller/how-to-customize-ant-design-with-react-webpack-the-missing-guide-c6430f2db10f</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2017/02/06/%E6%89%AF%E6%B7%A1/%E4%B8%8D%E7%AE%97%E6%98%A5%E8%8A%82%EF%BC%8C%E4%BD%A0%E6%9C%89%E5%A4%9A%E4%B9%85%E6%B2%A1%E6%9C%89%E5%9B%9E%E8%BF%87%E5%AE%B6%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/02/06/%E6%89%AF%E6%B7%A1/%E4%B8%8D%E7%AE%97%E6%98%A5%E8%8A%82%EF%BC%8C%E4%BD%A0%E6%9C%89%E5%A4%9A%E4%B9%85%E6%B2%A1%E6%9C%89%E5%9B%9E%E8%BF%87%E5%AE%B6%EF%BC%9F/" class="post-title-link" itemprop="url">不算春节，你有多久没有回过家？</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-02-06 00:00:00" itemprop="dateCreated datePublished" datetime="2017-02-06T00:00:00+08:00">2017-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%89%AF%E6%B7%A1/" itemprop="url" rel="index">
                    <span itemprop="name">扯淡</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>不算春节，你有多久没有回过家？3～5年？之所以不把春节算上，是因为春节期间的家乡，笼罩着团圆的气氛，充斥着归乡的人群；而这些，在大多数时间都不属于家乡。<br>而你，有多久没有看过，常态下的家乡？</p>
<p>岳父大人不远千里来机场接机，对老婆来说，从小到大，这也是第一次。我想，大概是因为，我们越长大，回家的时间就越“宝贵”，“宝贵”到父母驱车200公里也要多争取两个小时时间在一起。</p>
<p>回程路上，岳父大人执意要开车。见他路上渐现疲态，我换到驾驶座，车速刚加速到100码，他已睡着。</p>
<p>接近凌晨到家，岳父大人乐此不彼的带我们展示他为我们精心修葺的千尺豪宅。他为两个宝贝女儿每人装修了一间卧室。说是卧室，比深圳的“精装50平单身公寓”还要大。卧室外面，60平米的阳台，像大海一样宽阔，我傻了眼。我走到阳台边，周围安静得只剩下蛐蛐声，一辆车的声音都没有。我仰望天空，星空清澈无比，心里顿时五味杂陈。见到在土地上如此铺张挥霍的家，再想到深圳那个精打细算的家，不禁怀疑起自己：是哪里不对？一路参观，所到之处，各种细节，处处透露着二老的良苦用心。即便款式有些老套，但一点也不妨碍我感动得一塌糊涂。想到这样宽敞精致、良苦用心的房子，使用率不到1%，又为二老感到不值。</p>
<p>回到自己家，好多年没吃过樱桃，就带上爸妈一起上山摘樱桃。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2016/09/26/%E6%8A%80%E6%9C%AF/LeanCloud%E4%BA%91%E5%BC%95%E6%93%8E%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%92%8C%E9%83%A8%E7%BD%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/26/%E6%8A%80%E6%9C%AF/LeanCloud%E4%BA%91%E5%BC%95%E6%93%8E%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%92%8C%E9%83%A8%E7%BD%B2/" class="post-title-link" itemprop="url">[node.js] LeanCloud 云引擎的学习和部署</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-09-26 23:14:24" itemprop="dateCreated datePublished" datetime="2016-09-26T23:14:24+08:00">2016-09-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>摘要：本文是一个流水文，主要记录我在 LeanCloud 云平台上使用 node.js 搭建web服务器的过程。其中遇到的困难和需要记忆的知识点，在此做一个汇总。</p>
<h1 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h1><p>一定要是最新版本，否则各种 warn 和 err。<br>安装的时候 warn 一定要处理，否则会导致意想不到的 err。</p>
<h1 id="安装-avoscloud-工具"><a href="#安装-avoscloud-工具" class="headerlink" title="安装 avoscloud 工具"></a>安装 avoscloud 工具</h1><p>一定要使用最新版本，因为 leanengine 2.0 和 3.0 版本的项目结构发生了变化，老版本的命令行工具不能正确找到对应的文件，无法启动。</p>
<h1 id="node-js-学习"><a href="#node-js-学习" class="headerlink" title="node.js 学习"></a>node.js 学习</h1><p>node.js 是一个异步事件驱动的 web 框架。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">1337</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line">server.on(<span class="string">'request'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> method = request.method;</span><br><span class="line">    <span class="keyword">var</span> url = request.url;</span><br><span class="line"></span><br><span class="line">    req.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        body.push(chunk);</span><br><span class="line">    &#125;).on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        body = Buffer.concat(body).toString();</span><br><span class="line">        <span class="comment">// at this point, `body` has the entire request body stored in it as a string</span></span><br><span class="line">    &#125;).on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// This prints the error message and stack trace to `stderr`.</span></span><br><span class="line">        <span class="built_in">console</span>.error(err.stack);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span> &#125;);</span><br><span class="line">    res.end(<span class="string">'Hello World\n'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="express-学习"><a href="#express-学习" class="headerlink" title="express 学习"></a>express 学习</h1><h2 id="Express的文件结构"><a href="#Express的文件结构" class="headerlink" title="Express的文件结构"></a>Express的文件结构</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── app.js</span><br><span class="line">├── bin</span><br><span class="line">│   └── www</span><br><span class="line">├── package.json</span><br><span class="line">├── public</span><br><span class="line">│   ├── images</span><br><span class="line">│   ├── javascripts</span><br><span class="line">│   └── stylesheets</span><br><span class="line">│       └── style.css</span><br><span class="line">├── routes</span><br><span class="line">│   ├── index.js</span><br><span class="line">│   └── users.js</span><br><span class="line">└── views</span><br><span class="line">    ├── error.jade</span><br><span class="line">    ├── index.jade</span><br><span class="line">    └── layout.jade</span><br></pre></td></tr></table></figure>

<h2 id="routing"><a href="#routing" class="headerlink" title="routing"></a>routing</h2><p>Route definition takes the following structure:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.METHOD(PATH, HANDLER)</span><br></pre></td></tr></table></figure>

<p>Where:</p>
<ul>
<li><code>app</code> is an instance of express.</li>
<li><code>METHOD</code> is an HTTP request method.</li>
<li><code>PATH</code> is a path on the server.</li>
<li><code>HANDLER</code> is the function executed when the route is matched.</li>
</ul>
<h3 id="PATH-还支持正则表达式："><a href="#PATH-还支持正则表达式：" class="headerlink" title="PATH 还支持正则表达式："></a>PATH 还支持正则表达式：</h3><p>This route path will match abcd, abxcd, abRANDOMcd, ab123cd, and so on.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">'/ab*cd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'ab*cd'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>This route path will match /abe and /abcde.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">'/ab(cd)?e'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"> res.send(<span class="string">'ab(cd)?e'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="express-Router"><a href="#express-Router" class="headerlink" title="express.Router"></a>express.Router</h3><p>利用 express.Router 中间件可以创建一个子应用来响应特定的请求。<br>以下的代码，表示把所有 <code>/birds</code> 路径下的请求都托付给 <code>birds.js</code> 文件处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// birds.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"><span class="comment">// middleware that is specific to this router</span></span><br><span class="line">router.use(<span class="function"><span class="keyword">function</span> <span class="title">timeLog</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Time: '</span>, <span class="built_in">Date</span>.now());</span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// define the home page route</span></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Birds home page'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// define the about route</span></span><br><span class="line">router.get(<span class="string">'/about'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'About birds'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure>

<p>app 中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="keyword">var</span> birds = <span class="built_in">require</span>(<span class="string">'./birds'</span>);</span><br><span class="line">app.use(<span class="string">'/birds'</span>, birds);</span><br></pre></td></tr></table></figure>


<h2 id="middleware"><a href="#middleware" class="headerlink" title="middleware"></a>middleware</h2><p><a href="http://expressjs.com/en/guide/using-middleware.html" target="_blank" rel="noopener">http://expressjs.com/en/guide/using-middleware.html</a></p>
<p>中间件可以应用在 app 上，也可以应用在 router 上，可以使所有的请求都必须先经过中间件，最后到达具体的请求处理函数。下面是一个记录请求时间的中间件，可以记录任何请求的请求时间：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> requestTime = <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  req.requestTime = <span class="built_in">Date</span>.now();</span><br><span class="line">  next();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.use(requestTime);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> responseText = <span class="string">'Hello World!'</span>;</span><br><span class="line">  responseText += <span class="string">'Requested at: '</span> + req.requestTime + <span class="string">''</span>;</span><br><span class="line">  res.send(responseText);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>express有一些自带的中间件，也有很多扩展中间件，最常用的是 static 中间件，用来访问静态资源：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">  dotfiles: <span class="string">'ignore'</span>,</span><br><span class="line">  etag: <span class="literal">false</span>,</span><br><span class="line">  extensions: [<span class="string">'htm'</span>, <span class="string">'html'</span>],</span><br><span class="line">  index: <span class="literal">false</span>,</span><br><span class="line">  maxAge: <span class="string">'1d'</span>,</span><br><span class="line">  redirect: <span class="literal">false</span>,</span><br><span class="line">  setHeaders: <span class="function"><span class="keyword">function</span> (<span class="params">res, path, stat</span>) </span>&#123;</span><br><span class="line">    res.set(<span class="string">'x-timestamp'</span>, <span class="built_in">Date</span>.now());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.use(express.static(<span class="string">'public'</span>, options));</span><br><span class="line">app.use(express.static(<span class="string">'uploads'</span>));</span><br><span class="line">app.use(express.static(<span class="string">'files'</span>));</span><br></pre></td></tr></table></figure>

<h2 id="template"><a href="#template" class="headerlink" title="template"></a>template</h2><h3 id="jade"><a href="#jade" class="headerlink" title="jade"></a>jade</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'jade'</span>);</span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Hey'</span>, <span class="attr">message</span>: <span class="string">'Hello there!'</span>&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.jade</span></span><br><span class="line">html</span><br><span class="line">  head</span><br><span class="line">    title= title</span><br><span class="line">  body</span><br><span class="line">    h1= message</span><br></pre></td></tr></table></figure>

<p>jade 语法非常简单：<a href="http://jade-lang.com" target="_blank" rel="noopener">http://jade-lang.com</a></p>
<h3 id="ejs"><a href="#ejs" class="headerlink" title="ejs"></a>ejs</h3><p>略</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2016/08/05/%E6%89%AF%E6%B7%A1/%E5%88%AB%E8%BD%BB%E6%98%93%E6%89%93%E5%BC%80%E5%BE%AE%E4%BF%A1APP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/08/05/%E6%89%AF%E6%B7%A1/%E5%88%AB%E8%BD%BB%E6%98%93%E6%89%93%E5%BC%80%E5%BE%AE%E4%BF%A1APP/" class="post-title-link" itemprop="url">别轻易打开微信</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-08-05 00:00:00" itemprop="dateCreated datePublished" datetime="2016-08-05T00:00:00+08:00">2016-08-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>摘要: 别轻易打开微信APP，你的iPhone电量会被它耗干。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2016/07/01/%E8%AF%BB%E4%B9%A6/%E3%80%8APrinciples%E3%80%8B%E6%80%9D%E7%BB%B4%E5%AF%BC%E8%88%AA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/07/01/%E8%AF%BB%E4%B9%A6/%E3%80%8APrinciples%E3%80%8B%E6%80%9D%E7%BB%B4%E5%AF%BC%E8%88%AA/" class="post-title-link" itemprop="url">《Principles》思维导航</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-07-01 15:57:00" itemprop="dateCreated datePublished" datetime="2016-07-01T15:57:00+08:00">2016-07-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%BB%E4%B9%A6/" itemprop="url" rel="index">
                    <span itemprop="name">读书</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          What you want? What is true? What to do about it?
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2016/07/01/%E8%AF%BB%E4%B9%A6/%E3%80%8APrinciples%E3%80%8B%E6%80%9D%E7%BB%B4%E5%AF%BC%E8%88%AA/">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://blog.bookbook.in/2016/05/02/%E7%AE%A1%E7%90%86/Color%E8%96%AA%E9%85%AC%E4%BD%93%E7%B3%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="知明所以">
      <meta itemprop="description" content="关系、健康、自由，是我的追求。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Book Book, Come in~">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2016/05/02/%E7%AE%A1%E7%90%86/Color%E8%96%AA%E9%85%AC%E4%BD%93%E7%B3%BB/" class="post-title-link" itemprop="url">Color薪酬体系-研发运营团队</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-02 17:30:00" itemprop="dateCreated datePublished" datetime="2016-05-02T17:30:00+08:00">2016-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-13 13:00:17" itemprop="dateModified" datetime="2019-01-13T13:00:17+08:00">2019-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%A1%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">管理</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>我们相信公平和透明的薪酬机制很有益于公司的长期健康发展。我们在设计薪酬体系时重点考虑了几个问题：</p>
<ul>
<li><strong>避免薪酬倒挂</strong>：很多公司，尤其是大的互联网公司在人才竞争激烈的年份给出较高的入职薪水，而老员工的薪水因为惯性没有相应提高，所以造成了新员工入职薪酬高于老员工的不公平现象。</li>
<li><strong>消除薪酬谈判带来的不公平</strong>：在招聘时，很多公司往往会根据候选人之前的薪酬以及他/她的期望值在可接受的范围内确定 offer。这样的方式事实上惩罚了之前薪酬偏低的人和不善于薪酬谈判的人，而有利于之前薪酬偏高或者善于薪酬谈判的人，造成了能力和贡献相似的人薪酬产生较大差别，也就导致了组织内部的不公平。所以我们决定从机制上保证给出的 offer 完全取决于我们自己对候选人的独立评判，与其他因素无关。做到这一点，自然也就不应有任何因素导致我们对 offer 进行调整，就可以把薪酬谈判从招聘中去掉。</li>
<li><strong>简单透明</strong>：作为一个精简的创业公司，我们需要一个透明、自动化的机制来保证在薪酬这样的敏感问题上尽可能的公平。当人为因素越少，机制越透明时，大家就越不需要把注意力放在这些方面，日常运作也更简单高效。</li>
<li><strong>保持灵活性，避免线性等级</strong>：专业领域的专家和承担管理角色的同事对团队都很重要，这需要在薪酬体系中体现。</li>
</ul>
<h1 id="月薪的计算"><a href="#月薪的计算" class="headerlink" title="月薪的计算"></a>月薪的计算</h1><p>每位同事的月薪由下面的公式得出：</p>
<p><code>Salary = Function × Experience + Impact + Choice + Adjustment</code></p>
<p>其中 Function 是不同职位类型的月薪基数， 会随公司发展的情况进行调整。当前各类型的基数如下：</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Base Amount</th>
</tr>
</thead>
<tbody><tr>
<td>工程师</td>
<td>12000</td>
</tr>
<tr>
<td>设计师</td>
<td>8000</td>
</tr>
<tr>
<td>运营</td>
<td>8000</td>
</tr>
<tr>
<td>市场</td>
<td>8000</td>
</tr>
<tr>
<td>人力资源</td>
<td>7000</td>
</tr>
</tbody></table>
<p>以上是我们现有的职位类型，将来会根据需要增加新的类型。</p>
<p><strong>Experience</strong> 是不同经验和能力等级。对于新加入的成员这个等级会根据面试情况确定。对于在职的同事，会根据实际工作情况进行定期 review 和调整。这是一个团队内部的标准，和外部的通常标准或其他公司的职称标准完全无关。Experience 所对应的数值如下表所示：</p>
<table>
<thead>
<tr>
<th>Experience Level</th>
<th>Experience Amount</th>
</tr>
</thead>
<tbody><tr>
<td>E0</td>
<td>0.8</td>
</tr>
<tr>
<td>E1</td>
<td>1.0</td>
</tr>
<tr>
<td>E2</td>
<td>1.2</td>
</tr>
<tr>
<td>E3</td>
<td>1.4</td>
</tr>
<tr>
<td>E4</td>
<td>1.6</td>
</tr>
<tr>
<td>E5</td>
<td>1.8</td>
</tr>
<tr>
<td>E6</td>
<td>2.0</td>
</tr>
</tbody></table>
<p><strong>Impact</strong> 指的是在团队中的影响力和贡献，对应的数值如下图所示：</p>
<table>
<thead>
<tr>
<th>Impact Level</th>
<th>Impact Amount</th>
</tr>
</thead>
<tbody><tr>
<td>I0</td>
<td>0</td>
</tr>
<tr>
<td>I1</td>
<td>5,000</td>
</tr>
<tr>
<td>I2</td>
<td>8,000</td>
</tr>
<tr>
<td>I3</td>
<td>10,000</td>
</tr>
</tbody></table>
<p>由于在面试中无法衡量将来在团队中的实际贡献，我们在新的 offer 中通常会把 impact 定为 I0 留待将来调整。</p>
<p>Choice 除联合创始人月薪的 Choice 部分为 0 外，其他同事在入职时默认 Choice 部分为月薪其他部分的 10%。我们会按期权激励计划授予每位同事期权。新同事在入职的第二个月底前可以在期权和月薪间做一个倾向性选择。选择期权的同事可以放弃月薪的 Choice 部分而在原定期权基础上多获得 20% 的期权。</p>
<p>Adjustment 这是一个对所有人固定的调整，目前为 1000 元。</p>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><blockquote>
<p>假设某个 function 的基数是 13000，那么这个 function 的 experience level 为 E3、impact level 为 I1 的同事，她的 Function × Experience + Impact 部分就是 13000 × 1.4 + 5000 = 23200。如果她选择更多期权，那么她的月薪就是 23200 + 1000 = 24200。如果她选择更多月薪，那么她的月薪就是 23200 × 110% + 1000 = 26520。</p>
</blockquote>
<h1 id="奖金"><a href="#奖金" class="headerlink" title="奖金"></a>奖金</h1><p>目前我们周期性的奖金是每年的年终奖。年终奖的金额是浮动的，规则详见 工作的评价和反馈机制。</p>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>以上的机制借鉴了 Buffer 的 Open Salaries，具体的公式按照我们的情况做了调整， 希望让每个人都能清楚自己薪酬的由来以及未来的空间，也让潜在的应聘者一目了然了解可能的薪酬范围。</p>
<p>所有同事的薪酬以及发给候选人的 offer 都严格遵照这个标准。我们有可能不定期地调整各类职位的基数以适应公司发展的不同阶段并保持竞争力。由于这样的调整是整体的，所以不会导致倒挂等问题。另外由于影响最大的因素是 function 和 experience，这个公式也保留了足够的灵活性。比如一个很资深并作为项目负责人的工程师薪酬完全可能达到或超过 VP 和 C-Level 级别的管理者。</p>
<p>任何制度都会经历在实践中完善的过程，我们会根据反馈在发展中不断地完善这个薪酬体系。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">知明所以</p>
  <div class="site-description" itemprop="description">关系、健康、自由，是我的追求。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">75</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">236</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zjh1943" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zjh1943" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jhzhuustc@gmail.com" title="E-Mail → mailto:jhzhuustc@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">知明所以</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
